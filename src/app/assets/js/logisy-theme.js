var userBehaviour=function(){var e=window.Shopify&&window.Shopify.shop,t="",n=null,o=null,s=0,i=0,r={userInfo:!0,clicks:!0,mouseMovement:!1,mouseMovementInterval:1,mouseScroll:!0,mousePageChange:!0,timeCount:!0,clearAfterProcess:!1,processTime:5,processData:function(e){}};var a,u,c,m={},l={processInterval:null,mouseInterval:null,mousePosition:[],eventListeners:{scroll:null,click:null,mouseMovement:null},eventsFunctions:{scroll:()=>{var e=document.documentElement,t=document.body,n="scrollTop",o="scrollHeight",s=(e[n]||t[n])/((e[o]||t[o])-e.clientHeight)*100;v.mouseScrollPercent=Number(v.mouseScrollPercent<s?s:v.mouseScrollPercent.toFixed(2))},click:e=>{v.clickCount++},mouseMovement:e=>{l.mousePosition=[e.clientX,e.clientY,p()]}}},v={};function d(){var e=document.referrer,t=/^(https?|chrome):\/\/([^\s$.?#].[^\s]*$)/.exec(e);return t&&t.length?t[3]:""}function g(){v={userInfo:{appCodeName:navigator.appCodeName||"",appName:navigator.appName||"",vendor:navigator.vendor||"",platform:navigator.platform||"",userAgent:navigator.userAgent||""},time:{startTime:p(),currentTime:0},clickCount:0,mouseScrollPercent:0}}function p(){return Date.now()}function h(){m.processData(f()),m.clearAfterProcess&&g()}function f(){!1===m.userInfo&&void 0!==userBehaviour.showResult().userInfo&&delete userBehaviour.showResult().userInfo,void 0!==m.timeCount&&m.timeCount&&(v.time.currentTime=p());var r=window.location.pathname;return v.storeName=e,v.currentPage=r,v.previousPage=function(){var e=/.+?\:\/\/.+?(\/.+?)(?:#|\?|$)/;if(""!=document.referrer)var t=e.exec(document.referrer)?e.exec(document.referrer)[1]:"";else t="";return t}(),v.queryParams=function(e){e||(e=location.search);var t=e.substr(1),n={};""!=t&&t.split("&").forEach((function(e){var t=e.split("=");n[t[0]]=decodeURIComponent(t[1])}));return n}(),v.referrer=d(),v.visitorId=t,v.sessionId=n,v.focus=o,v.timeSpent=Number((Math.abs(v.time.currentTime-v.time.startTime)/1e3).toFixed(2)),v.cartItemCount=s,v.cartPrice=i,v}g(),a=d(),u="https://logisy.tech/app/lg_t.html?shop="+e+"&referrer="+a+"&parentDomain="+window.location.host,(c=document.createElement("iframe")).setAttribute("src",u),c.setAttribute("style","display: none"),c.setAttribute("id","lg_iframe"),document.body.appendChild(c),window.addEventListener("message",(function(e){"https://logisy.tech"===e.origin&&"string"==typeof(t=e.data)&&t.startsWith("lgsy-")&&((n=sessionStorage.getItem("lgsSessionId"))||(n=Math.random().toString(36).substring(2)+Date.now().toString(36),sessionStorage.setItem("lgsSessionId",n)),o="IN_FOCUS",Object.keys(m).length!==Object.keys(r).length&&(m=r),void 0!==m.timeCount&&m.timeCount&&(v.time.startTime=p()),m.mouseMovement&&(l.eventListeners.mouseMovement=window.addEventListener("mousemove",l.eventsFunctions.mouseMovement),l.mouseInterval=setInterval(()=>{l.mousePosition&&l.mousePosition.length&&(!v.mouseMovements.length||l.mousePosition[0]!==v.mouseMovements[v.mouseMovements.length-1][0]&&l.mousePosition[1]!==v.mouseMovements[v.mouseMovements.length-1][1])&&v.mouseMovements.push(l.mousePosition)},1e3*r.mouseMovementInterval)),m.clicks&&(l.eventListeners.click=window.addEventListener("click",l.eventsFunctions.click)),m.mouseScroll&&(l.eventListeners.scroll=window.addEventListener("scroll",l.eventsFunctions.scroll)),!1!==m.processTime&&(l.processInterval=setInterval(()=>{m.processData(f())},1e3*m.processTime)),h())}),!1);var y=function(){for(var e=navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/iPhone/i)?"pagehide":"beforeunload",t=void 0,n=[{stateKey:"hidden",eventKey:"visibilitychange"},{stateKey:"webkitHidden",eventKey:"webkitvisibilitychange"},{stateKey:"mozHidden",eventKey:"mozvisibilitychange"},{stateKey:"msHidden",eventKey:"msvisibilitychange"}],o=0;o<n.length;o++)if(void 0!==document[n[o].stateKey]){t=n[o];break}return{pageHiddenEvent:t,pageCloseEvent:e}}();window.addEventListener(y.pageCloseEvent,(function(){h()})),document.addEventListener(y.pageHiddenEvent.eventKey,(function(){o=document[y.pageHiddenEvent.stateKey]?"OUT_OF_FOCUS":"IN_FOCUS"}))}();